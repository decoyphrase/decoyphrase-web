/**
 * PlatformCard Component
 * Download card for each platform (MacOS, Windows, Linux, Android)
 */

import type { PlatformInfo } from '@/lib/data/platforms';

interface PlatformCardProps {
  platform: PlatformInfo;
}

export function PlatformCard({ platform }: PlatformCardProps) {
  return (
    <article className="group bg-card border-border hover:border-muted-foreground/30 relative rounded-xl border p-6 transition-all hover:shadow-lg sm:p-8">
      {/* Platform Icon */}
      <div className="bg-foreground text-background mb-4 flex h-12 w-12 items-center justify-center rounded-full">
        <PlatformIcon icon={platform.icon} />
      </div>

      {/* Category Label */}
      <span className="text-muted-foreground font-mono text-xs tracking-wide uppercase">
        {platform.category}
      </span>

      {/* Platform Name */}
      <h3 className="mt-1 font-mono text-xl font-bold sm:text-2xl">{platform.name}</h3>

      {/* Description */}
      <p className="text-muted-foreground mt-2 text-sm leading-relaxed">{platform.description}</p>

      {/* Download Button */}
      <a
        href={platform.downloadUrl}
        target="_blank"
        rel="noopener noreferrer"
        download
        className="bg-foreground text-background hover:bg-foreground/90 mt-6 inline-flex items-center gap-2 rounded-full px-5 py-2.5 text-sm font-medium transition-colors"
        aria-label={`Download Decoy Generator for ${platform.name}`}
      >
        <DownloadIcon />
        Download
      </a>

      {/* Version Info (optional) */}
      {platform.version && (
        <span className="text-muted-foreground absolute top-4 right-4 text-xs">
          v{platform.version}
        </span>
      )}
    </article>
  );
}

function PlatformIcon({ icon }: { icon: PlatformInfo['icon'] }) {
  const iconProps = {
    width: 24,
    height: 24,
    viewBox: '0 0 24 24',
    fill: 'currentColor',
    'aria-hidden': true as const,
  };

  switch (icon) {
    case 'apple':
      return (
        <svg {...iconProps} viewBox="0 0 512 512">
          <path d="M450.682 174.558c-2.971 2.304-55.422 31.85-55.422 97.546 0 75.988 66.742 102.871 68.74 103.537-.307 1.638-10.603 36.816-35.19 72.66-21.923 31.542-44.819 63.033-79.65 63.033s-43.795-20.226-84.005-20.226c-39.185 0-53.117 20.892-84.977 20.892-31.86 0-54.091-29.187-79.651-65.031C70.921 404.879 47 339.49 47 277.429c0-99.542 64.745-152.335 128.465-152.335 33.858 0 62.082 22.223 83.339 22.223 20.233 0 51.785-23.554 90.305-23.554 14.598 0 67.049 1.331 101.573 50.795Zm-119.86-92.937c15.93-18.895 27.199-45.112 27.199-71.329 0-3.635-.307-7.322-.973-10.292-25.918.973-56.754 17.256-75.348 38.813-14.598 16.59-28.223 42.808-28.223 69.383 0 3.994.666 7.988.973 9.269 1.639.307 4.303.665 6.966.665 23.255 0 52.503-15.566 69.406-36.509Z" />
        </svg>
      );
    case 'windows':
      return (
        <svg {...iconProps} viewBox="0 0 512 512">
          <path d="M26 242.526V101.053l162-35.57V240.1l-162 2.425ZM485 0v235.789l-270 4.043V59.554L485 0ZM26 269.474l162 2.425v183.512l-162-30.99V269.474Zm459 6.737V512l-270-51.469V271.899l270 4.312Z" />
        </svg>
      );
    case 'linux':
      return (
        <svg {...iconProps} viewBox="0 0 512 512">
          <path d="M248.755 125.105c0 1.696-1.695 1.696-1.695 1.696h-1.695c-1.695 0-1.695-1.696-3.39-3.391 0 0-1.695-1.695-1.695-3.39s0-1.695 1.695-1.695l3.39 1.695c1.695 1.695 3.39 3.39 3.39 5.085Zm-30.508-16.952c0-8.476-3.389-13.561-8.474-13.561 0 0 0 1.695-1.695 1.695v3.39h5.085c0 3.391 1.695 5.086 1.695 8.476h3.389Zm59.32-8.476c3.39 0 5.085 3.391 6.779 8.476h3.39c-1.695-1.695-1.695-3.39-1.695-5.085 0-1.695 0-3.39-1.695-5.086-1.694-1.695-3.389-3.39-5.084-3.39 0 0-1.695 1.695-3.39 1.695 0 1.695 1.695 1.695 1.695 3.39Zm-50.846 27.124c-1.694 0-1.694 0-1.694-1.696 0-1.695 0-3.39 1.694-5.085 3.39 0 5.085-1.695 5.085-1.695 1.695 0 1.695 1.695 1.695 1.695 0 1.695-1.695 3.39-5.085 6.781h-1.695Zm-18.643-1.696c-6.779-3.39-8.474-8.476-8.474-16.952 0-5.085 0-8.476 3.39-11.866 1.694-3.39 5.084-5.086 8.474-5.086 3.39 0 5.084 1.696 8.474 5.086 1.695 5.086 3.39 10.171 3.39 15.257v3.39h1.695v-1.695c1.694 0 1.694-3.39 1.694-10.171 0-5.086 0-10.171-3.389-15.257-3.39-5.085-6.78-8.476-13.559-8.476-5.085 0-10.169 3.39-11.864 8.476-3.39 6.78-4.068 11.866-4.068 20.342 0 6.781 2.373 13.562 9.153 20.343 1.694-1.695 3.389-1.695 5.084-3.391Zm211.856 239.023c1.695 0 1.695-.678 1.695-2.204 0-3.729-1.695-8.137-6.779-13.053-5.085-5.085-13.559-8.306-23.728-9.662-1.695-.17-3.39-.17-3.39-.17-1.695-.339-1.695-.339-3.39-.339-1.694-.169-5.084-.508-6.779-.847 5.085-15.766 6.779-29.666 6.779-41.872 0-16.952-3.389-28.818-10.169-38.989-6.779-10.171-13.558-15.257-22.033-16.952-1.695 1.695-1.695 1.695-1.695 3.39 8.475 3.391 16.949 10.171 22.034 20.342 5.084 11.867 6.779 22.038 6.779 33.904 0 9.493-1.695 23.564-8.474 41.533-6.78 2.712-13.559 8.984-18.644 18.816 0 1.526 0 2.374 1.695 2.374 0 0 1.695-1.526 3.39-4.408 3.39-2.882 5.084-5.764 8.474-8.645 5.085-2.882 8.474-4.408 13.559-4.408 8.474 0 16.948 1.187 22.033 3.56 6.779 2.204 10.169 4.577 11.864 7.289a130.016 130.016 0 0 0 5.084 7.12c0 2.204 1.695 3.221 1.695 3.221ZM264.008 118.325c-1.695-1.696-1.695-5.086-1.695-8.476 0-6.781 0-10.172 3.39-15.257 3.39-3.39 6.779-5.086 10.169-5.086 5.085 0 8.474 3.39 11.864 6.781 1.695 5.086 3.39 8.476 3.39 13.562 0 8.476-3.39 13.561-10.169 15.256 0 0 1.695 1.696 3.389 1.696 3.39 0 5.085 1.695 8.475 3.39 1.694-10.171 3.389-16.952 3.389-25.428 0-10.171-1.695-16.952-5.084-22.037-5.085-5.086-10.169-6.781-16.949-6.781-5.084 0-10.169 1.695-15.253 5.085-3.39 5.086-5.085 8.476-5.085 13.562 0 8.476 1.695 15.257 5.085 22.037 1.694 0 3.389 1.696 5.084 1.696Zm20.338 27.123c-22.033 15.257-38.981 22.037-52.54 22.037-11.864 0-23.728-5.085-33.897-13.561 1.695 3.39 3.39 6.781 5.085 8.476l10.169 10.171c6.779 6.781 15.253 10.171 23.728 10.171 11.864 0 25.422-6.781 42.371-18.647l15.253-10.171c3.39-3.391 6.78-6.781 6.78-11.867 0-1.695 0-3.39-1.695-3.39-1.695-3.39-10.169-8.476-27.118-13.562-15.253-6.78-27.117-10.171-33.897-10.171-5.084 0-13.558 3.391-25.422 10.171-10.169 6.781-16.949 13.562-16.949 20.343 0 0 1.695 1.695 3.39 5.085 10.169 8.476 20.338 13.562 30.507 13.562 13.559 0 30.507-6.781 52.541-23.733v3.391c1.694 0 1.694 1.695 1.694 1.695Zm38.982 342.429c6.779 12.748 18.643 19.156 32.202 19.156 3.39 0 6.779-.509 10.169-1.526 3.39-.678 6.78-1.864 8.474-3.221 1.695-1.186 3.39-2.373 5.085-3.729 3.39-1.187 3.39-2.034 5.084-2.882l28.813-24.919c6.779-5.408 13.559-10.137 22.033-14.24 6.779-4.068 13.559-6.781 16.948-8.306 5.085-1.356 8.475-3.391 11.864-6.103 1.695-2.543 3.39-5.764 3.39-9.832 0-4.916-3.39-8.646-6.779-11.358-3.39-2.712-6.78-4.577-10.169-5.764-3.39-1.186-6.78-3.898-11.864-8.476-3.39-4.407-6.78-10.51-8.475-18.477l-1.694-9.832c-1.695-4.577-1.695-7.968-3.39-9.832 0-.509 0-.679-1.695-.679s-5.085 1.526-6.779 4.408c-3.39 2.882-6.78 6.103-10.17 9.493-1.694 3.391-6.779 6.442-10.169 9.324-5.084 2.882-10.169 4.407-13.558 4.407-13.559 0-20.339-3.729-25.423-11.019-3.39-5.424-5.085-11.696-6.78-18.816-3.389-2.882-5.084-4.408-8.474-4.408-8.474 0-11.864 8.815-11.864 26.615v52.72c0 1.526-1.695 4.916-1.695 10.172-1.694 5.255-1.694 11.222-1.694 17.969l-3.39 18.816v.288m-245.753-8.967c15.762 2.305 33.897 7.238 54.404 14.765 20.508 7.459 33.05 11.358 37.626 11.358 11.864 0 21.694-5.255 29.829-15.409 1.695-3.289 1.695-7.154 1.695-11.596 0-16.019-9.66-36.277-28.982-60.857l-11.525-15.426c-2.372-3.221-5.254-8.137-8.982-14.749-3.56-6.611-6.78-11.696-9.322-15.256-2.203-3.899-5.762-7.798-10.339-11.697-4.406-3.899-9.491-6.442-15.084-7.798-7.118 1.356-12.033 3.729-14.406 6.95-2.373 3.221-3.729 6.781-4.068 10.51-.508 3.56-1.525 5.934-3.22 7.12-1.695 1.017-4.576 1.865-8.474 2.713-.848 0-2.373 0-4.576.169h-4.576c-8.983 0-15.084 1.017-18.305 2.712-4.237 4.916-6.44 10.511-6.44 16.444 0 2.712.678 7.289 2.034 13.731 1.356 6.272 2.034 11.358 2.034 14.918 0 6.95-2.034 13.9-6.271 20.85-4.238 7.29-6.44 12.714-6.44 16.579 1.694 6.578 12.88 11.206 33.388 13.918m56.438-154.093c0-11.697 3.051-24.581 9.322-39.837 6.101-15.257 12.203-25.428 18.135-32.209-.339-1.695-1.187-1.695-2.542-1.695l-1.695-1.695c-4.915 5.085-10.847 16.952-17.966 33.903-7.118 15.257-10.847 29.327-10.847 39.668 0 7.628 1.865 14.24 5.254 20.003 3.729 5.594 12.712 13.731 26.948 24.072l17.966 11.697c19.152 16.613 29.321 28.14 29.321 34.921 0 3.56-1.695 7.12-6.78 11.019-3.389 4.068-7.966 6.102-11.864 6.102-.339 0-.508.34-.508 1.187 0 .17 1.695 3.56 5.254 10.171 7.118 9.663 22.372 14.409 42.71 14.409 37.287 0 66.099-15.256 88.132-45.77 0-8.476 0-13.731-1.695-15.935v-6.272c0-11.019 1.695-19.325 5.085-24.75 3.39-5.424 6.779-7.967 11.864-7.967 3.39 0 6.779 1.186 10.169 3.729 1.695-13.053 1.695-24.411 1.695-34.582 0-15.426 0-28.14-3.39-40.006-1.695-10.172-5.084-18.647-8.474-25.428l-10.169-15.257c-3.39-5.086-5.085-10.171-8.474-15.257-1.695-6.781-3.39-11.866-3.39-20.342-5.085-8.476-8.474-16.952-13.559-25.428-3.39-8.476-6.779-16.952-10.169-23.733L279.092 171.3c-16.948 11.866-30.507 16.951-42.371 16.951-10.169 0-18.643-1.695-23.728-8.475l-10.169-8.476c0 5.085-1.695 11.866-5.084 18.647l-10.678 20.342c-4.746 11.866-7.288 18.647-7.796 23.733-.678 3.39-1.187 6.781-1.526 6.781l-12.711 25.428c-13.728 25.427-20.677 48.991-20.677 68.485 0 3.899.339 7.968 1.017 12.036-7.627-5.255-11.356-12.544-11.356-22.037ZM255.364 485.08c-22.033 0-38.981 2.984-50.845 8.9v-.508c-8.474 10.171-17.965 15.426-31.185 15.426-8.305 0-21.355-3.221-38.982-9.663-17.796-6.103-33.558-10.781-47.286-13.867-1.356-.389-4.407-.966-9.322-1.746-4.745-.762-9.152-1.542-13.05-2.322-3.56-.763-7.627-1.916-12.034-3.475-4.237-1.339-7.626-3.085-10.169-5.204-2.338-2.136-3.491-4.544-3.491-7.239 0-2.712.576-5.611 1.729-8.696a77.942 77.942 0 0 1 3.457-5.425c1.187-1.865 2.203-3.56 2.882-5.255 1.016-1.526 1.694-3.051 2.372-4.747.678-1.525 1.356-3.051 1.695-4.916.34-1.695.678-3.39.678-5.085 0-1.695-.678-6.781-2.034-15.766-1.356-8.815-2.034-14.409-2.034-16.782 0-7.459 1.695-13.392 5.424-17.63 3.729-4.238 7.288-6.442 11.017-6.442h19.49c1.526 0 3.898-.847 7.458-2.882 1.186-2.712 2.203-4.916 2.88-6.95.848-2.034 1.187-3.56 1.526-4.238.34-1.017.678-2.034 1.017-2.882.678-1.186 1.525-2.542 2.712-3.899-1.356-1.695-2.034-3.899-2.034-6.611 0-1.865 0-3.56.339-4.577 0-6.103 2.881-14.748 8.983-26.106l5.932-10.68c4.915-9.154 8.643-15.935 11.355-22.715 2.881-6.781 5.932-16.952 9.322-30.514 2.712-11.866 9.152-23.733 19.321-35.599l12.711-15.257c8.814-10.171 14.576-18.647 17.796-25.428 3.221-6.78 4.915-15.256 4.915-22.037 0-3.391-.847-13.562-2.711-30.514-1.695-16.952-2.543-33.904-2.543-49.16 0-11.867 1.017-20.343 3.221-28.819 2.203-8.476 6.101-16.952 11.864-23.733 5.084-6.78 11.864-13.561 22.033-16.951C229.942 1.696 241.806 0 255.364 0c5.085 0 10.17 0 15.254 1.695 5.085 0 11.864 1.695 20.338 5.086 6.78 3.39 13.559 6.78 18.644 11.866 6.779 5.086 11.864 13.562 16.948 22.038 3.39 10.17 6.779 20.342 8.474 33.904 1.695 8.476 1.695 16.952 3.39 28.818 0 10.171 1.695 16.952 1.695 22.037 1.695 5.086 1.695 11.867 3.39 20.343 1.694 6.781 3.389 13.561 6.779 18.647 3.39 6.781 6.779 13.562 11.864 20.342 5.084 8.476 11.864 16.952 18.643 27.123 15.254 16.952 27.118 35.6 33.897 54.247 8.474 16.952 13.559 38.989 13.559 62.552 0 11.697-1.695 23.055-5.085 34.074 3.39 0 5.085 1.356 6.78 3.729 1.695 2.374 3.39 7.459 5.084 15.427l1.695 12.544c1.695 3.73 3.39 7.289 8.475 10.341 3.389 3.051 6.779 5.594 11.863 7.628 3.39 1.695 8.475 4.069 11.864 7.12 3.39 3.39 5.085 6.95 5.085 10.68 0 5.763-1.695 10.001-5.085 13.053-3.389 3.39-6.779 5.763-11.864 7.289a871.41 871.41 0 0 1-20.338 9.866c-8.474 5.018-16.948 11.104-25.422 18.308l-16.949 14.426c-6.779 6.612-13.559 11.358-18.643 14.24-5.085 3.051-11.864 4.577-18.644 4.577l-11.864-1.356c-13.558-3.56-22.033-10.341-27.117-20.682-27.118-3.288-49.151-4.916-62.71-4.916" />
        </svg>
      );
    case 'android':
      return (
        <svg {...iconProps} viewBox="0 0 512 512">
          <path d="M478.348 183.045h-6.091c-18.505 0-33.505 15-33.505 33.505v134.018c0 18.504 15 33.505 33.505 33.505h6.091c18.504 0 33.505-15.001 33.505-33.505V216.55c0-18.505-15.001-33.505-33.505-33.505ZM39.743 183.045H33.65c-18.504 0-33.505 15-33.505 33.505v134.018c0 18.504 15.001 33.505 33.505 33.505h6.092c18.504 0 33.505-15.001 33.505-33.505V216.55c0-18.505-15.001-33.505-33.505-33.505ZM109.799 183.045v182.752c0 20.249 16.301 36.551 36.55 36.551v73.101c0 20.249 16.302 36.551 36.551 36.551 20.249 0 36.55-16.302 36.55-36.551v-73.101h73.101v73.101c0 20.249 16.302 36.551 36.551 36.551 20.249 0 36.55-16.302 36.55-36.551v-73.101c20.249 0 36.551-16.302 36.551-36.551V183.045H109.799ZM370.728.142a13.71 13.71 0 0 0-11.471 5.635l-24.656 32.874c-23.479-13.108-50.749-20.075-78.6-20.082-27.837.05-55.079 7.051-78.524 20.183L152.745 5.777A13.701 13.701 0 0 0 142.231.15a13.71 13.71 0 0 0-14.218 14.93 13.703 13.703 0 0 0 2.803 7.144l24.062 32.082c-14.222 11.919-25.547 26.228-33.293 42.07-7.746 15.842-11.755 32.89-11.786 50.121h292.404c-.008-17.242-3.999-34.305-11.734-50.163-7.735-15.859-19.053-30.185-33.276-42.119l23.993-31.99a13.71 13.71 0 0 0-3.354-19.856 13.708 13.708 0 0 0-7.104-2.226ZM201.175 73.395A18.278 18.278 0 0 1 219.45 91.67c0 4.847-1.925 9.495-5.352 12.923a18.278 18.278 0 0 1-25.845 0 18.274 18.274 0 0 1 12.922-31.198Zm109.652 0a18.274 18.274 0 0 1 18.275 18.275 18.279 18.279 0 0 1-18.275 18.275 18.276 18.276 0 1 1 0-36.55Z" />
        </svg>
      );
    default:
      return null;
  }
}

function DownloadIcon() {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      aria-hidden="true"
    >
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
      <polyline points="7 10 12 15 17 10" />
      <line x1="12" x2="12" y1="15" y2="3" />
    </svg>
  );
}
